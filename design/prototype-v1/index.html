<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapToPoster - Prototype</title>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icons (Lucide) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // Using CSS variables for OKLCH values
                        // Note: Opacity modifiers won't work automatically with this simple setup 
                        // unless we use the breakdown hack. Sticking to solid vars for now.
                        base: 'var(--bg-base)',
                        surface: 'var(--bg-surface)',
                        subtle: 'var(--bg-subtle)',
                        border: 'var(--border-subtle)',
                        
                        // Action/Brand
                        brand: {
                            DEFAULT: 'var(--accent-primary)',
                            hover: 'var(--accent-hover)',
                        },
                        
                        // Text
                        txt: {
                            primary: 'var(--text-primary)',
                            secondary: 'var(--text-secondary)',
                            muted: 'var(--text-muted)',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-base text-txt-primary h-screen w-screen overflow-hidden selection:bg-brand selection:text-white flex flex-col">

    <!-- Title Bar (Chromeless Drag Region placeholder) -->
    <div class="h-[40px] flex items-center justify-between px-4 bg-surface/50 border-b border-white/5 select-none" style="-webkit-app-region: drag">
        <div class="flex items-center gap-2 text-sm font-medium opacity-80">
            <i data-lucide="map" class="w-4 h-4 text-brand"></i>
            <span>MapToPoster</span>
        </div>
        <div class="flex gap-2">
            <!-- Window Controls simulation -->
            <div class="w-3 h-3 rounded-full bg-yellow-500/20 hover:bg-yellow-500 transition-colors"></div>
            <div class="w-3 h-3 rounded-full bg-green-500/20 hover:bg-green-500 transition-colors"></div>
            <div class="w-3 h-3 rounded-full bg-red-500/20 hover:bg-red-500 transition-colors"></div>
        </div>
    </div>

    <!-- Main 3-Column Layout -->
    <main class="flex-1 flex overflow-hidden">
        
        <!-- LEFT SIDEBAR -->
        <aside class="w-[280px] flex flex-col border-r border-border bg-surface relative z-10">
            <!-- Search -->
            <div class="p-4 border-b border-border">
                <div class="relative group">
                    <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted group-focus-within:text-brand transition-colors"></i>
                    <input type="text" placeholder="Enter city..." 
                        class="w-full bg-base border border-border rounded-lg pl-10 pr-3 py-2.5 text-sm focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand transition-all placeholder:text-txt-muted/50">
                </div>
            </div>

            <!-- Theme Grid -->
            <div class="flex-1 overflow-y-auto p-4 custom-scrollbar">
                <h3 class="text-xs font-semibold text-txt-muted uppercase tracking-wider mb-3 ml-1">Themes</h3>
                
                <div class="grid grid-cols-2 gap-3" id="theme-grid">
                    <!-- Themes will be injected here via JS -->
                </div>
            </div>

            <!-- Footer -->
            <div class="p-4 border-t border-border text-[10px] text-txt-muted text-center">
                v1.0.0 â€¢ Prototype
            </div>
        </aside>

        <!-- CENTER CANVAS -->
        <section class="flex-1 bg-base relative flex items-center justify-center p-8 overflow-hidden">
            
            <!-- Map Container (Empty State initially) -->
            <div id="map-canvas" class="relative w-full h-full max-w-[600px] max-h-[800px] flex items-center justify-center transition-all duration-500">
                
                <!-- Empty State Content -->
                <div id="empty-state" class="text-center flex flex-col items-center animate-fade-in">
                    <div class="w-24 h-24 rounded-full bg-surface border border-border flex items-center justify-center mb-6 shadow-2xl shadow-black/20">
                        <i data-lucide="map-pin" class="w-10 h-10 text-brand opacity-80"></i>
                    </div>
                    <h2 class="text-2xl font-semibold mb-2 tracking-tight">Create Your First Poster</h2>
                    <p class="text-txt-secondary text-sm max-w-xs mx-auto">Enter a city name in the sidebar to generate a unique, artistic map design.</p>
                </div>

                <!-- Active Map Preview (Hidden by default) -->
                <div id="poster-preview" class="hidden w-full h-full bg-white shadow-2xl relative group cursor-grab active:cursor-grabbing border-[8px] border-white">
                    <!-- Map Image Placeholder -->
                    <div class="w-full h-full bg-gray-900 relative overflow-hidden">
                        <!-- Simulated Map Pattern -->
                        <div class="absolute inset-0 opacity-30" style="background-image: radial-gradient(#4a4a4a 1px, transparent 1px); background-size: 20px 20px;"></div>
                        
                        <!-- City Label -->
                        <div class="absolute bottom-12 left-0 right-0 text-center text-black z-20">
                            <h1 class="text-5xl font-bold tracking-widest uppercase mb-1 font-serif text-white mix-blend-difference">PARIS</h1>
                            <p class="text-sm font-medium tracking-[0.3em] text-white/80 mix-blend-difference">FRANCE</p>
                            <div class="w-full h-full absolute inset-0 bg-gradient-to-t from-black/50 to-transparent -z-10 bottom-0 top-auto h-32"></div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Zoom Controls -->
            <div class="absolute bottom-6 right-6 flex flex-col bg-surface/80 backdrop-blur-md border border-border rounded-full shadow-lg overflow-hidden opacity-0 translate-y-4 transition-all duration-300" id="zoom-controls">
                <button class="p-2.5 hover:bg-white/5 active:bg-white/10 text-txt-secondary hover:text-txt-primary border-b border-white/5"><i data-lucide="plus" class="w-4 h-4"></i></button>
                <button class="p-2.5 hover:bg-white/5 active:bg-white/10 text-txt-secondary hover:text-txt-primary"><i data-lucide="minus" class="w-4 h-4"></i></button>
            </div>

        </section>

        <!-- RIGHT PANEL -->
        <aside class="w-[300px] border-l border-border bg-surface flex flex-col z-10 transition-transform duration-300 translate-x-0">
            
            <div class="p-5 border-b border-border">
                <h2 class="text-sm font-semibold text-txt-primary">Export Settings</h2>
            </div>
            
            <div class="flex-1 p-5 space-y-6 overflow-y-auto">
                
                <!-- Filename -->
                <div class="space-y-2">
                    <label class="text-xs font-medium text-txt-secondary">Filename</label>
                    <input type="text" value="Paris_Poster_Noir" class="w-full bg-base border border-border rounded-md px-3 py-2 text-sm focus:border-brand focus:outline-none transition-colors">
                </div>

                <!-- Size -->
                <div class="space-y-2">
                    <label class="text-xs font-medium text-txt-secondary">Size</label>
                    <div class="relative">
                        <select class="w-full bg-base border border-border rounded-md px-3 py-2 text-sm appearance-none focus:border-brand focus:outline-none">
                            <option>18 x 24"</option>
                            <option>A3 (29.7 x 42 cm)</option>
                            <option>A4 (21 x 29.7 cm)</option>
                            <option>Custom...</option>
                        </select>
                        <i data-lucide="chevron-down" class="absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted pointer-events-none"></i>
                    </div>
                </div>

                <!-- Toggles -->
                <div class="space-y-4 pt-2">
                    <label class="flex items-center justify-between cursor-pointer group">
                        <span class="text-sm text-txt-secondary group-hover:text-txt-primary transition-colors">Include Border</span>
                        <input type="checkbox" checked class="accent-brand w-4 h-4 rounded border-gray-600">
                    </label>
                    <label class="flex items-center justify-between cursor-pointer group">
                        <span class="text-sm text-txt-secondary group-hover:text-txt-primary transition-colors">High DPI (300)</span>
                        <input type="checkbox" class="accent-brand w-4 h-4">
                    </label>
                </div>

            </div>

            <!-- Bottom Action -->
            <div class="p-5 border-t border-border bg-surface">
                <!-- Data Summary -->
                <div class="flex justify-between text-xs text-txt-muted mb-4 px-1">
                    <span>Est. File Size</span>
                    <span>~12 MB</span>
                </div>
                
                <button id="btn-export" disabled class="w-full bg-brand hover:bg-brand-hover text-white font-medium py-3 rounded-lg shadow-lg shadow-brand/20 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2">
                    <i data-lucide="download" class="w-4 h-4"></i>
                    <span>Export Poster</span>
                </button>
            </div>

        </aside>

    </main>

    <!-- Modal Overlay -->
    <div id="modal-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden opacity-0 transition-opacity duration-300 flex items-center justify-center">
        <div class="bg-surface border border-border rounded-2xl shadow-2xl w-[400px] p-6 scale-95 transition-transform duration-300 transform" id="modal-content">
            <div class="flex flex-col items-center text-center">
                <div class="w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center mb-4">
                    <i data-lucide="check" class="w-8 h-8 text-green-500"></i>
                </div>
                <h3 class="text-xl font-bold text-txt-primary mb-2">Poster Exported!</h3>
                <p class="text-sm text-txt-secondary mb-6">Your high-resolution poster is ready.</p>
                
                <div class="w-full bg-base border border-border rounded px-3 py-2 mb-6 flex items-center justify-between">
                    <code class="text-xs text-txt-muted truncate font-mono">C:/Users/.../Paris_Noir.png</code>
                    <button class="text-txt-muted hover:text-white transition-colors"><i data-lucide="copy" class="w-3 h-3"></i></button>
                </div>

                <div class="flex gap-3 w-full">
                    <button id="btn-modal-close" class="flex-1 py-2 rounded-lg border border-border text-sm font-medium hover:bg-white/5 transition-colors">Open Folder</button>
                    <button id="btn-modal-reset" class="flex-1 py-2 rounded-lg bg-brand hover:bg-brand-hover text-white text-sm font-medium transition-colors">Create New</button>
                </div>
            </div>
        </div>
    </div>

    <!-- App Logic -->
    <script src="js/app.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>
</html>
